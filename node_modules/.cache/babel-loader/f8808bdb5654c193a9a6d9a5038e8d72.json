{"remainingRequest":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\src\\components\\Map\\editFunc.js","dependencies":[{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\src\\components\\Map\\editFunc.js","mtime":1641585503879},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\babel.config.js","mtime":1641423326757},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641423715596},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcRFBST1NBQ0tcXERvY3VtZW50c1xcR2l0SHViXFxDUkktVXBkYXRlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwovL2ltcG9ydCBjb25zdCBmcm9tIG1hcC5qcwppbXBvcnQgeyBza2V0Y2gsIHZpZXcsIGZlYXRMYXllciwgZ0xheWVyIH0gZnJvbSAnLi4vTWFwL21hcCc7CmltcG9ydCB7IGNudHlOYnJObSB9IGZyb20gJy4uLy4uL2NvbW1vbi90eENudCc7IC8vZXNyaSBqcyBnZW9tZXRyeSBlbmdpbmUgaW1wb3J0CgppbXBvcnQgKiBhcyBnZW9tZXRyeUVuZ2luZSBmcm9tICJAYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvZ2VvbWV0cnlFbmdpbmUiOwppbXBvcnQgR3JhcGhpYyBmcm9tICJAYXJjZ2lzL2NvcmUvR3JhcGhpYyI7IC8vaW1wb3J0IFF1ZXJ5IGZyb20gIkBhcmNnaXMvY29yZS9yZXN0L3N1cHBvcnQvUXVlcnkiOwovL2FkZCBsb2dpbiBpbmZvCi8vZ2V0IGNvdW50eSBuYW1lIGFuZCByb2FkIHRvdGFscwoKZXhwb3J0IGZ1bmN0aW9uIGNvdW50eUluZm8oKSB7CiAgcmV0dXJuIF9jb3VudHlJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENudHlJbmZvKCl7Ci8vICAgY29uc3QgcXVlcnkgPSBuZXcgUXVlcnkoKTsKLy8gICBxdWVyeS53aGVyZSA9ICJDTlRZX05NPSAnVHJhdmlzJyI7Ci8vICAgY291bnR5T2ZmaWNpYWxJbmZvLnF1ZXJ5RmVhdHVyZXMocXVlcnkpLnRoZW4ocmVzdWx0ID0+IGNvbnNvbGUubG9nKHJlc3VsdCkpOyAgLy8gcHJpbnRzIHRoZSBudW1iZXIgb2YgcmVzdWx0cyBzYXRpc2Z5aW5nIHRoZSBxdWVyeQovLyB9Ci8vZ2V0Q250eUluZm8oKQoKZnVuY3Rpb24gX2NvdW50eUluZm8oKSB7CiAgX2NvdW50eUluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIHZhciBxdWVyeVVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgICAgICAgICAgIHZhciBjckluZm8gPSBxdWVyeVVybC5zcGxpdCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwLycpWzFdOyAvL2NvbnNvbGUubG9nKGNySW5mby50b1N0cmluZygpKQoKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGNySW5mby50b1N0cmluZygpKQogICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY250eU5ick5tLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjbnR5TmJyTm1bal1bY3JJbmZvXSk7CgogICAgICAgICAgICAgICAgaWYgKGNudHlOYnJObVtqXVtjckluZm9dKSB7CiAgICAgICAgICAgICAgICAgIHJlcyh7CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgbmJyOiBwYXJzZUludChjckluZm8pCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcmVzKHsKICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogZmFsc2UKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSAvL2xldCBjclZhbGlkYXRpb24gPSAvXlswLTldezEsM30kLwoKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfY291bnR5SW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gYWRkUm9hZGJlZCgpIHsKICByZXR1cm4gX2FkZFJvYWRiZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2FkZFJvYWRiZWQoKSB7CiAgX2FkZFJvYWRiZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIHNrZXRjaC5jcmVhdGUoInBvbHlsaW5lIiwgewogICAgICAgICAgICAgICAgbW9kZTogImNsaWNrIiwKICAgICAgICAgICAgICAgIGhhc1o6IGZhbHNlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgc2tldGNoLm9uKCdjcmVhdGUnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgIHZhciBsZW5ndGhNaWxlczsKCiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygiVGhpcyBpcyB0aGUgcHJldmlvdXMgdG90YWwgbGVuZ3RoOiAiLHRoaXMucHJldmlvdXNUb3RhbCkKICAgICAgICAgICAgICAgICAgbGVuZ3RoTWlsZXMgPSBnZW9tZXRyeUVuZ2luZS5nZW9kZXNpY0xlbmd0aChldmVudC5ncmFwaGljLmdlb21ldHJ5LCAibWlsZXMiKTsgLy9hZGRMZW4obGVuZ3RoTWlsZXMpOwoKICAgICAgICAgICAgICAgICAgLy9hZGRMZW4obGVuZ3RoTWlsZXMpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVGhpcyBpcyB0aGUgY3VycmVudCBsaW5lIGxlbmd0aDogIiwgcGFyc2VGbG9hdChsZW5ndGhNaWxlcy50b0ZpeGVkKDMpKSk7CiAgICAgICAgICAgICAgICAgIHJlcyhsZW5ndGhNaWxlcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mi5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF9hZGRSb2FkYmVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBtb2RpZnlSb2FkYmVkKCkgewogIHJldHVybiBfbW9kaWZ5Um9hZGJlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfbW9kaWZ5Um9hZGJlZCgpIHsKICBfbW9kaWZ5Um9hZGJlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICB2YXIgcHJvbWlzZSwgZmVhdHVyZTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgdmlldy5vbigiaW1tZWRpYXRlLWNsaWNrIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IHsKICAgICAgICAgICAgICAgICAgaW5jbHVkZTogZmVhdExheWVyCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdmlldy5oaXRUZXN0KGV2ZW50LCBvcHRzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0c1tpXS5ncmFwaGljLmdlb21ldHJ5ICE9PSBudWxsICYmIHJlc3BvbnNlLnJlc3VsdHNbaV0uZ3JhcGhpYy5zb3VyY2VMYXllciAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UucmVzdWx0c1tpXSk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnlGZWF0ID0gZmVhdExheWVyLnF1ZXJ5RmVhdHVyZXMoewogICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RJZHM6IFtyZXNwb25zZS5yZXN1bHRzWzBdLmdyYXBoaWMuYXR0cmlidXRlcy5vYmplY3RpZF0sCiAgICAgICAgICAgICAgICAgICAgICAgIG91dEZpZWxkczogWyIqIl0sCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkdlb21ldHJ5OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5NOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5RmVhdC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcyhyZXN1bHQpOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBmZWF0dXJlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZlYXR1cmUpOwogICAgICAgICAgICBkZWZpbmVHcmFwaGljKGZlYXR1cmUpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZ2VvbWV0cnlFbmdpbmUuZ2VvZGVzaWNMZW5ndGgoZmVhdHVyZS5mZWF0dXJlc1swXS5nZW9tZXRyeSwgIm1pbGVzIikpOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKICByZXR1cm4gX21vZGlmeVJvYWRiZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHpvb21FeHRlbnRzKCkgewogIHZpZXcub24oJ21vdXNlLXdoZWVsJywgZnVuY3Rpb24gKCkgewogICAgY29uc29sZS5sb2codmlldy56b29tKTsKICAgIHZpZXcuem9vbSA8IDkgPyBmZWF0TGF5ZXIudmlzaWJsZSA9IGZhbHNlIDogZmVhdExheWVyLnZpc2libGUgPSB0cnVlOwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBoaWdodGxpZ2h0RmVhdCgpIHsKICB2aWV3Lm9uKCdwb2ludGVyLW1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHZhciBvcHRzID0gewogICAgICBpbmNsdWRlOiBmZWF0TGF5ZXIKICAgIH07CiAgICB2aWV3LmhpdFRlc3QoZXZlbnQsIG9wdHMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGlmIChyZXNwb25zZS5yZXN1bHRzLmxlbmd0aCkgewogICAgICAgIHZhciBlZGl0RmVhdHVyZSA9IHJlc3BvbnNlLnJlc3VsdHNbMF0uZ3JhcGhpYzsKICAgICAgICB2aWV3LndoZW5MYXllclZpZXcoZWRpdEZlYXR1cmUubGF5ZXIpLnRoZW4oZnVuY3Rpb24gKGxheWVyVmlldykgewogICAgICAgICAgdmFyIGhpZ2hsaWdodCA9IGxheWVyVmlldy5oaWdobGlnaHQoZWRpdEZlYXR1cmUpOwogICAgICAgICAgdmlldy5vbigncG9pbnRlci1tb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIHZpZXcuaGl0VGVzdChldmVudCwgb3B0cykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0cy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGhpZ2hsaWdodC5yZW1vdmUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0pOwp9CgpmdW5jdGlvbiBkZWZpbmVHcmFwaGljKGdyYXBoaWNzKSB7CiAgdmFyIG5ld0dyYXBoaWMgPSBuZXcgR3JhcGhpYyh7CiAgICBnZW9tZXRyeTogewogICAgICB0eXBlOiAicG9seWxpbmUiLAogICAgICBwYXRoczogZ3JhcGhpY3MuZmVhdHVyZXNbMF0uZ2VvbWV0cnkucGF0aHNbMF0sCiAgICAgIGhhc006IHRydWUsCiAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHsKICAgICAgICB3a2lkOiAzODU3CiAgICAgIH0KICAgIH0sCiAgICBhdHRyaWJ1dGVzOiB7CiAgICAgIG9iamVjdGlkOiBncmFwaGljcy5mZWF0dXJlc1swXS5hdHRyaWJ1dGVzLm9iamVjdGlkCiAgICB9LAogICAgc3ltYm9sOiB7CiAgICAgIHR5cGU6ICJzaW1wbGUtbGluZSIsCiAgICAgIGNvbG9yOiBbMCwgMCwgMjU1XSwKICAgICAgd2lkdGg6IDIsCiAgICAgIHN0eWxlOiAiZGFzaCIKICAgIH0KICB9KTsKICB2YXIgb2JqZWN0aWRMaXN0ID0gW107CiAgZ0xheWVyLmdyYXBoaWNzLmFkZChuZXdHcmFwaGljKTsKCiAgZm9yICh2YXIgaWQgaW4gZ0xheWVyLmdyYXBoaWNzLml0ZW1zKSB7CiAgICBpZiAoZ0xheWVyLmdyYXBoaWNzLml0ZW1zW2lkXS5hdHRyaWJ1dGVzICE9PSBudWxsKSB7CiAgICAgIG9iamVjdGlkTGlzdC5wdXNoKGdMYXllci5ncmFwaGljcy5pdGVtc1tpZF0uYXR0cmlidXRlcy5vYmplY3RpZCk7CiAgICAgIGNvbnNvbGUubG9nKG9iamVjdGlkTGlzdCk7CiAgICB9CiAgfQoKICBmZWF0TGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24gPSAiT0JKRUNUSUQgbm90IGluICgiLmNvbmNhdChvYmplY3RpZExpc3QsICIpIGFuZCBjbnR5X25tID0gJ1RyYXZpcyciKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUxlbmd0aCgpIHsKICByZXR1cm4gX3VwZGF0ZUxlbmd0aC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfdXBkYXRlTGVuZ3RoKCkgewogIF91cGRhdGVMZW5ndGggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgdmFyIG9sZGxlbmd0aE1pbGUsIG5ld2xlbmd0aE1pbGVzLCB1cGRhdGVQcm9taXNlLCBtaWxlYWdlczsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHVwZGF0ZVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgdmlldy5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IHsKICAgICAgICAgICAgICAgICAgaW5jbHVkZTogZ0xheWVyCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdmlldy5oaXRUZXN0KGV2dCwgb3B0cykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhza2V0Y2gpOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgc2tldGNoLnVwZGF0ZShyZXNwb25zZS5yZXN1bHRzWzBdLmdyYXBoaWMsIHsKICAgICAgICAgICAgICAgICAgICAgIHRvb2w6ICJyZXNoYXBlIgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHNrZXRjaC5vbigndXBkYXRlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGV2ZW50KQogICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnN0YXRlID09PSAic3RhcnQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9sZGxlbmd0aE1pbGUgPSBnZW9tZXRyeUVuZ2luZS5nZW9kZXNpY0xlbmd0aChldmVudC5ncmFwaGljc1swXS5nZW9tZXRyeSwgIm1pbGVzIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG9sZGxlbmd0aE1pbGUpOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gImNvbXBsZXRlIikgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdsZW5ndGhNaWxlcyA9IGdlb21ldHJ5RW5naW5lLmdlb2Rlc2ljTGVuZ3RoKGV2ZW50LmdyYXBoaWNzWzBdLmdlb21ldHJ5LCAibWlsZXMiKTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9sZGxlbmd0aE1pbGUgPT09ICJudW1iZXIiICYmIHR5cGVvZiBuZXdsZW5ndGhNaWxlcyA9PT0gIm51bWJlciIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhTGVuZ3RoID0gb2xkbGVuZ3RoTWlsZSAtIG5ld2xlbmd0aE1pbGVzOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkZWx0YUxlbmd0aCk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkbGVuZ3RoTWlsZSA8IG5ld2xlbmd0aE1pbGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZE1pbGVzID0gTWF0aC5hYnMoZGVsdGFMZW5ndGgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFkZE1pbGVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXMoYWRkTWlsZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZGQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvbGRsZW5ndGhNaWxlID4gbmV3bGVuZ3RoTWlsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ViTWlsZXMgPSAtTWF0aC5hYnMoZGVsdGFMZW5ndGgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyhzdWJNaWxlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1YnRyYWN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiB1cGRhdGVQcm9taXNlOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgbWlsZWFnZXMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgY29uc29sZS5sb2cobWlsZWFnZXMpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgbWlsZWFnZXMpOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTQpOwogIH0pKTsKICByZXR1cm4gX3VwZGF0ZUxlbmd0aC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["C:/Users/DPROSACK/Documents/GitHub/CRI-Update/src/components/Map/editFunc.js"],"names":["sketch","view","featLayer","gLayer","cntyNbrNm","geometryEngine","Graphic","countyInfo","Promise","res","queryUrl","window","location","href","crInfo","split","j","length","console","log","response","nbr","parseInt","addRoadbed","create","mode","hasZ","on","event","lengthMiles","state","geodesicLength","graphic","geometry","parseFloat","toFixed","modifyRoadbed","promise","opts","include","hitTest","then","i","results","sourceLayer","queryFeat","queryFeatures","objectIds","attributes","objectid","outFields","returnGeometry","returnM","result","feature","defineGraphic","features","zoomExtents","zoom","visible","hightlightFeat","editFeature","whenLayerView","layer","layerView","highlight","remove","graphics","newGraphic","type","paths","hasM","spatialReference","wkid","symbol","color","width","style","objectidList","add","id","items","push","definitionExpression","updateLength","updatePromise","evt","update","tool","oldlengthMile","newlengthMiles","deltaLength","addMiles","Math","abs","subMiles","mileages"],"mappings":"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","sourcesContent":["//import const from map.js\r\nimport {sketch, view, featLayer, gLayer} from '../Map/map'\r\nimport {cntyNbrNm} from '../../common/txCnt'\r\n//esri js geometry engine import\r\nimport * as geometryEngine from \"@arcgis/core/geometry/geometryEngine\";\r\nimport Graphic from \"@arcgis/core/Graphic\";\r\n//import Query from \"@arcgis/core/rest/support/Query\";\r\n\r\n\r\n\r\n//add login info\r\n//get county name and road totals\r\n\r\nexport async function countyInfo(){\r\n  return await new Promise(function(res){\r\n    let queryUrl = window.location.href\r\n    let crInfo = queryUrl.split('http://localhost:8080/')[1]\r\n    //console.log(crInfo.toString())\r\n    for (let j=0; j < cntyNbrNm.length; j++){\r\n      console.log(cntyNbrNm[j][crInfo])\r\n      if(cntyNbrNm[j][crInfo]){\r\n        res({response:true, nbr:parseInt(crInfo)})\r\n      }\r\n      else{\r\n        res({response:false})\r\n      }\r\n    }\r\n    //let crValidation = /^[0-9]{1,3}$/\r\n  })\r\n}\r\n\r\n// export async function getCntyInfo(){\r\n//   const query = new Query();\r\n//   query.where = \"CNTY_NM= 'Travis'\";\r\n  \r\n//   countyOfficialInfo.queryFeatures(query).then(result => console.log(result));  // prints the number of results satisfying the query\r\n  \r\n// }\r\n//getCntyInfo()\r\nexport async function addRoadbed(){\r\n    return await new Promise(function(res){\r\n        sketch.create(\"polyline\",{mode:\"click\", hasZ: false})\r\n        sketch.on('create', (event) => {\r\n            let lengthMiles;\r\n            if(event.state === \"complete\"){\r\n                //console.log(\"This is the previous total length: \",this.previousTotal)\r\n                lengthMiles = geometryEngine.geodesicLength(event.graphic.geometry, \"miles\")\r\n                //addLen(lengthMiles);\r\n                console.log(\"This is the current line length: \", parseFloat(lengthMiles.toFixed(3)));\r\n                res(lengthMiles);\r\n            }\r\n        });\r\n    }) \r\n}\r\n\r\nexport async function modifyRoadbed(){\r\n  let promise = new Promise(function(res){\r\n    view.on(\"immediate-click\", (event) => {\r\n      let opts ={ include: featLayer }\r\n      view.hitTest(event, opts).then(function(response){\r\n        for(let i=0; i < response.results.length; i++){\r\n          if(response.results[i].graphic.geometry !== null && response.results[i].graphic.sourceLayer !== null){\r\n            console.log(response.results[i])\r\n            let queryFeat = featLayer.queryFeatures({\r\n              objectIds: [response.results[0].graphic.attributes.objectid],\r\n              outFields: [\"*\"],\r\n              returnGeometry: true,\r\n              returnM: true\r\n            })\r\n            queryFeat.then(result => res(result))\r\n          }\r\n        }\r\n      })\r\n    })\r\n  })\r\n\r\n  let feature = await promise;\r\n  console.log(feature)\r\n  defineGraphic(feature)\r\n  return geometryEngine.geodesicLength(feature.features[0].geometry, \"miles\")\r\n}\r\n\r\nexport function zoomExtents(){\r\n  view.on('mouse-wheel',() => {\r\n    console.log(view.zoom)\r\n    view.zoom < 9 ?  featLayer.visible = false : featLayer.visible = true;\r\n  })\r\n}\r\n\r\nexport function hightlightFeat(){\r\n  view.on('pointer-move', (event) => {\r\n    const opts = {include: featLayer}\r\n    view.hitTest(event, opts).then(function(response){\r\n      if (response.results.length) {\r\n        let editFeature = response.results[0].graphic;\r\n        view.whenLayerView(editFeature.layer).then(function(layerView){\r\n          let highlight = layerView.highlight(editFeature);\r\n          view.on('pointer-move', (event) => {\r\n            view.hitTest(event, opts).then(function(response){\r\n              if(response.results.length === 0){\r\n                highlight.remove()\r\n              }\r\n            })\r\n          })\r\n        })\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction defineGraphic(graphics){\r\n  let newGraphic = new Graphic({\r\n    geometry: {\r\n      type: \"polyline\",\r\n      paths: graphics.features[0].geometry.paths[0],\r\n      hasM: true,\r\n      spatialReference: {\r\n        wkid: 3857\r\n      }\r\n    },\r\n\r\n    attributes: {\r\n      objectid: graphics.features[0].attributes.objectid\r\n    },\r\n              \r\n    symbol: {\r\n      type: \"simple-line\",\r\n      color: [0, 0, 255],\r\n      width: 2,\r\n      style: \"dash\"\r\n    }\r\n  })\r\n  let objectidList = [];\r\n  gLayer.graphics.add(newGraphic);\r\n  for(let id in gLayer.graphics.items)\r\n    if(gLayer.graphics.items[id].attributes !== null){\r\n      objectidList.push(gLayer.graphics.items[id].attributes.objectid)\r\n      console.log(objectidList)\r\n    }\r\n    featLayer.definitionExpression = `OBJECTID not in (${objectidList}) and cnty_nm = 'Travis'`\r\n}\r\n\r\nexport async function updateLength(){\r\n    let oldlengthMile;\r\n    let newlengthMiles;\r\n    let updatePromise = new Promise(function(res){\r\n      view.on('click', (evt)=>{\r\n        let opts = {include: gLayer}\r\n        view.hitTest(evt, opts).then(function(response){\r\n          console.log(response)\r\n          console.log(sketch)\r\n          if(response.results.length){\r\n            sketch.update(response.results[0].graphic,{tool: \"reshape\"})\r\n\r\n            sketch.on('update', (event) => {\r\n              //console.log(event)\r\n              if(event.state === \"start\"){\r\n                oldlengthMile = geometryEngine.geodesicLength(event.graphics[0].geometry, \"miles\")\r\n                console.log(oldlengthMile)\r\n              }\r\n              if(event.state === \"complete\"){\r\n                newlengthMiles = geometryEngine.geodesicLength(event.graphics[0].geometry, \"miles\")\r\n              }\r\n\r\n              if(typeof oldlengthMile === \"number\" && typeof newlengthMiles === \"number\"){\r\n                let deltaLength = oldlengthMile - newlengthMiles\r\n                console.log(deltaLength);\r\n                if(oldlengthMile < newlengthMiles){\r\n                  let addMiles = Math.abs(deltaLength)\r\n                  console.log(addMiles)\r\n                  res(addMiles)\r\n                  console.log('add')\r\n                }\r\n                else if (oldlengthMile > newlengthMiles){\r\n                  let subMiles = -Math.abs(deltaLength)\r\n                  res(subMiles)\r\n                  console.log('subtract')\r\n                }\r\n              }  \r\n            })\r\n          }\r\n          })\r\n        })\r\n     \r\n      });\r\n\r\n    let mileages = await updatePromise;\r\n    console.log(mileages)\r\n    return mileages\r\n}"]}]}