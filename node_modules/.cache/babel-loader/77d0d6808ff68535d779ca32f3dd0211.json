{"remainingRequest":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\src\\components\\Map\\editFunc.js","dependencies":[{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\src\\components\\Map\\editFunc.js","mtime":1641420767691},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\babel.config.js","mtime":1639609171225},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcRFBST1NBQ0tcXERvY3VtZW50c1xcR2l0SHViXFxDUkktVXBkYXRlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7Ci8vaW1wb3J0IGNvbnN0IGZyb20gbWFwLmpzCmltcG9ydCB7IHNrZXRjaCwgdmlldywgZmVhdExheWVyLCBnTGF5ZXIgfSBmcm9tICcuLi9NYXAvbWFwJzsgLy9lc3JpIGpzIGdlb21ldHJ5IGVuZ2luZSBpbXBvcnQKCmltcG9ydCAqIGFzIGdlb21ldHJ5RW5naW5lIGZyb20gIkBhcmNnaXMvY29yZS9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZSI7CmltcG9ydCBHcmFwaGljIGZyb20gIkBhcmNnaXMvY29yZS9HcmFwaGljIjsgLy9hZGQgbG9naW4gaW5mbwovL2dldCBjb3VudHkgbmFtZSBhbmQgcm9hZCB0b3RhbHMKCmV4cG9ydCBmdW5jdGlvbiBjb3VudHlJbmZvKCkgewogIHJldHVybiBfY291bnR5SW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfY291bnR5SW5mbygpIHsKICBfY291bnR5SW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBxdWVyeVVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgICAgICAgICAgIHZhciBjckluZm8gPSBxdWVyeVVybC5zcGxpdCgnPycpWzFdLnNwbGl0KCc9JylbMV07CiAgICAgICAgICAgICAgY29uc29sZS5sb2coY3JJbmZvKTsKICAgICAgICAgICAgICB2YXIgY3JWYWxpZGF0aW9uID0gL15bMC05XXsxLDN9JC87CgogICAgICAgICAgICAgIGlmIChjclZhbGlkYXRpb24udGVzdChjckluZm8pKSB7CiAgICAgICAgICAgICAgICByZXModHJ1ZSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcyhmYWxzZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfY291bnR5SW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Cgpjb3VudHlJbmZvKCk7CmV4cG9ydCBmdW5jdGlvbiBhZGRSb2FkYmVkKCkgewogIHJldHVybiBfYWRkUm9hZGJlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfYWRkUm9hZGJlZCgpIHsKICBfYWRkUm9hZGJlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgc2tldGNoLmNyZWF0ZSgicG9seWxpbmUiLCB7CiAgICAgICAgICAgICAgICBtb2RlOiAiY2xpY2siLAogICAgICAgICAgICAgICAgaGFzWjogZmFsc2UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBza2V0Y2gub24oJ2NyZWF0ZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgdmFyIGxlbmd0aE1pbGVzOwoKICAgICAgICAgICAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gImNvbXBsZXRlIikgewogICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCJUaGlzIGlzIHRoZSBwcmV2aW91cyB0b3RhbCBsZW5ndGg6ICIsdGhpcy5wcmV2aW91c1RvdGFsKQogICAgICAgICAgICAgICAgICBsZW5ndGhNaWxlcyA9IGdlb21ldHJ5RW5naW5lLmdlb2Rlc2ljTGVuZ3RoKGV2ZW50LmdyYXBoaWMuZ2VvbWV0cnksICJtaWxlcyIpOyAvL2FkZExlbihsZW5ndGhNaWxlcyk7CgogICAgICAgICAgICAgICAgICAvL2FkZExlbihsZW5ndGhNaWxlcyk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUaGlzIGlzIHRoZSBjdXJyZW50IGxpbmUgbGVuZ3RoOiAiLCBwYXJzZUZsb2F0KGxlbmd0aE1pbGVzLnRvRml4ZWQoMykpKTsKICAgICAgICAgICAgICAgICAgcmVzKGxlbmd0aE1pbGVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX2FkZFJvYWRiZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG1vZGlmeVJvYWRiZWQoKSB7CiAgcmV0dXJuIF9tb2RpZnlSb2FkYmVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9tb2RpZnlSb2FkYmVkKCkgewogIF9tb2RpZnlSb2FkYmVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgIHZhciBwcm9taXNlLCBmZWF0dXJlOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICB2aWV3Lm9uKCJpbW1lZGlhdGUtY2xpY2siLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgIHZhciBvcHRzID0gewogICAgICAgICAgICAgICAgICBpbmNsdWRlOiBmZWF0TGF5ZXIKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB2aWV3LmhpdFRlc3QoZXZlbnQsIG9wdHMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UucmVzdWx0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHRzW2ldLmdyYXBoaWMuZ2VvbWV0cnkgIT09IG51bGwgJiYgcmVzcG9uc2UucmVzdWx0c1tpXS5ncmFwaGljLnNvdXJjZUxheWVyICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5yZXN1bHRzW2ldKTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeUZlYXQgPSBmZWF0TGF5ZXIucXVlcnlGZWF0dXJlcyh7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdElkczogW3Jlc3BvbnNlLnJlc3VsdHNbMF0uZ3JhcGhpYy5hdHRyaWJ1dGVzLm9iamVjdGlkXSwKICAgICAgICAgICAgICAgICAgICAgICAgb3V0RmllbGRzOiBbIioiXSwKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuR2VvbWV0cnk6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybk06IHRydWUKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgcXVlcnlGZWF0LnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzKHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gcHJvbWlzZTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGZlYXR1cmUgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgY29uc29sZS5sb2coZmVhdHVyZSk7CiAgICAgICAgICAgIGRlZmluZUdyYXBoaWMoZmVhdHVyZSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBnZW9tZXRyeUVuZ2luZS5nZW9kZXNpY0xlbmd0aChmZWF0dXJlLmZlYXR1cmVzWzBdLmdlb21ldHJ5LCAibWlsZXMiKSk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMyk7CiAgfSkpOwogIHJldHVybiBfbW9kaWZ5Um9hZGJlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gem9vbUV4dGVudHMoKSB7CiAgdmlldy5vbignbW91c2Utd2hlZWwnLCBmdW5jdGlvbiAoKSB7CiAgICBjb25zb2xlLmxvZyh2aWV3Lnpvb20pOwogICAgdmlldy56b29tIDwgOSA/IGZlYXRMYXllci52aXNpYmxlID0gZmFsc2UgOiBmZWF0TGF5ZXIudmlzaWJsZSA9IHRydWU7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGhpZ2h0bGlnaHRGZWF0KCkgewogIHZpZXcub24oJ3BvaW50ZXItbW92ZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIG9wdHMgPSB7CiAgICAgIGluY2x1ZGU6IGZlYXRMYXllcgogICAgfTsKICAgIHZpZXcuaGl0VGVzdChldmVudCwgb3B0cykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGVkaXRGZWF0dXJlID0gcmVzcG9uc2UucmVzdWx0c1swXS5ncmFwaGljOwogICAgICAgIHZpZXcud2hlbkxheWVyVmlldyhlZGl0RmVhdHVyZS5sYXllcikudGhlbihmdW5jdGlvbiAobGF5ZXJWaWV3KSB7CiAgICAgICAgICB2YXIgaGlnaGxpZ2h0ID0gbGF5ZXJWaWV3LmhpZ2hsaWdodChlZGl0RmVhdHVyZSk7CiAgICAgICAgICB2aWV3Lm9uKCdwb2ludGVyLW1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgdmlldy5oaXRUZXN0KGV2ZW50LCBvcHRzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgaGlnaGxpZ2h0LnJlbW92ZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIGRlZmluZUdyYXBoaWMoZ3JhcGhpY3MpIHsKICB2YXIgbmV3R3JhcGhpYyA9IG5ldyBHcmFwaGljKHsKICAgIGdlb21ldHJ5OiB7CiAgICAgIHR5cGU6ICJwb2x5bGluZSIsCiAgICAgIHBhdGhzOiBncmFwaGljcy5mZWF0dXJlc1swXS5nZW9tZXRyeS5wYXRoc1swXSwKICAgICAgaGFzTTogdHJ1ZSwKICAgICAgc3BhdGlhbFJlZmVyZW5jZTogewogICAgICAgIHdraWQ6IDM4NTcKICAgICAgfQogICAgfSwKICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgb2JqZWN0aWQ6IGdyYXBoaWNzLmZlYXR1cmVzWzBdLmF0dHJpYnV0ZXMub2JqZWN0aWQKICAgIH0sCiAgICBzeW1ib2w6IHsKICAgICAgdHlwZTogInNpbXBsZS1saW5lIiwKICAgICAgY29sb3I6IFswLCAwLCAyNTVdLAogICAgICB3aWR0aDogMiwKICAgICAgc3R5bGU6ICJkYXNoIgogICAgfQogIH0pOwogIHZhciBvYmplY3RpZExpc3QgPSBbXTsKICBnTGF5ZXIuZ3JhcGhpY3MuYWRkKG5ld0dyYXBoaWMpOwoKICBmb3IgKHZhciBpZCBpbiBnTGF5ZXIuZ3JhcGhpY3MuaXRlbXMpIHsKICAgIGlmIChnTGF5ZXIuZ3JhcGhpY3MuaXRlbXNbaWRdLmF0dHJpYnV0ZXMgIT09IG51bGwpIHsKICAgICAgb2JqZWN0aWRMaXN0LnB1c2goZ0xheWVyLmdyYXBoaWNzLml0ZW1zW2lkXS5hdHRyaWJ1dGVzLm9iamVjdGlkKTsKICAgICAgY29uc29sZS5sb2cob2JqZWN0aWRMaXN0KTsKICAgIH0KICB9CgogIGZlYXRMYXllci5kZWZpbml0aW9uRXhwcmVzc2lvbiA9ICJPQkpFQ1RJRCBub3QgaW4gKCIuY29uY2F0KG9iamVjdGlkTGlzdCwgIikgYW5kIGNudHlfbm0gPSAnVHJhdmlzJyIpOwp9CgpleHBvcnQgZnVuY3Rpb24gdXBkYXRlTGVuZ3RoKCkgewogIHJldHVybiBfdXBkYXRlTGVuZ3RoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF91cGRhdGVMZW5ndGgoKSB7CiAgX3VwZGF0ZUxlbmd0aCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICB2YXIgb2xkbGVuZ3RoTWlsZSwgbmV3bGVuZ3RoTWlsZXMsIHVwZGF0ZVByb21pc2UsIG1pbGVhZ2VzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICB2aWV3Lm9uKCdjbGljaycsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICAgICAgICAgIHZhciBvcHRzID0gewogICAgICAgICAgICAgICAgICBpbmNsdWRlOiBnTGF5ZXIKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB2aWV3LmhpdFRlc3QoZXZ0LCBvcHRzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNrZXRjaCk7CgogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0cy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBza2V0Y2gudXBkYXRlKHJlc3BvbnNlLnJlc3VsdHNbMF0uZ3JhcGhpYywgewogICAgICAgICAgICAgICAgICAgICAgdG9vbDogInJlc2hhcGUiCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgc2tldGNoLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXZlbnQpCiAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RhdGUgPT09ICJzdGFydCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2xkbGVuZ3RoTWlsZSA9IGdlb21ldHJ5RW5naW5lLmdlb2Rlc2ljTGVuZ3RoKGV2ZW50LmdyYXBoaWNzWzBdLmdlb21ldHJ5LCAibWlsZXMiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cob2xkbGVuZ3RoTWlsZSk7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnN0YXRlID09PSAiY29tcGxldGUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld2xlbmd0aE1pbGVzID0gZ2VvbWV0cnlFbmdpbmUuZ2VvZGVzaWNMZW5ndGgoZXZlbnQuZ3JhcGhpY3NbMF0uZ2VvbWV0cnksICJtaWxlcyIpOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2xkbGVuZ3RoTWlsZSA9PT0gIm51bWJlciIgJiYgdHlwZW9mIG5ld2xlbmd0aE1pbGVzID09PSAibnVtYmVyIikgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGFMZW5ndGggPSBvbGRsZW5ndGhNaWxlIC0gbmV3bGVuZ3RoTWlsZXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRlbHRhTGVuZ3RoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRsZW5ndGhNaWxlIDwgbmV3bGVuZ3RoTWlsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkTWlsZXMgPSBNYXRoLmFicyhkZWx0YUxlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWRkTWlsZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyhhZGRNaWxlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FkZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9sZGxlbmd0aE1pbGUgPiBuZXdsZW5ndGhNaWxlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJNaWxlcyA9IC1NYXRoLmFicyhkZWx0YUxlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzKHN1Yk1pbGVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3VidHJhY3QnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVByb21pc2U7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBtaWxlYWdlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICBjb25zb2xlLmxvZyhtaWxlYWdlcyk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBtaWxlYWdlcyk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNCk7CiAgfSkpOwogIHJldHVybiBfdXBkYXRlTGVuZ3RoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"sources":["C:/Users/DPROSACK/Documents/GitHub/CRI-Update/src/components/Map/editFunc.js"],"names":["sketch","view","featLayer","gLayer","geometryEngine","Graphic","countyInfo","Promise","queryUrl","window","location","href","crInfo","split","console","log","crValidation","test","res","addRoadbed","create","mode","hasZ","on","event","lengthMiles","state","geodesicLength","graphic","geometry","parseFloat","toFixed","modifyRoadbed","promise","opts","include","hitTest","then","response","i","results","length","sourceLayer","queryFeat","queryFeatures","objectIds","attributes","objectid","outFields","returnGeometry","returnM","result","feature","defineGraphic","features","zoomExtents","zoom","visible","hightlightFeat","editFeature","whenLayerView","layer","layerView","highlight","remove","graphics","newGraphic","type","paths","hasM","spatialReference","wkid","symbol","color","width","style","objectidList","add","id","items","push","definitionExpression","updateLength","updatePromise","evt","update","tool","oldlengthMile","newlengthMiles","deltaLength","addMiles","Math","abs","subMiles","mileages"],"mappings":"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","sourcesContent":["//import const from map.js\r\nimport {sketch, view, featLayer, gLayer} from '../Map/map'\r\n//esri js geometry engine import\r\nimport * as geometryEngine from \"@arcgis/core/geometry/geometryEngine\";\r\nimport Graphic from \"@arcgis/core/Graphic\";\r\n\r\n\r\n\r\n//add login info\r\n//get county name and road totals\r\n\r\nexport async function countyInfo(){\r\n  new Promise(function(){\r\n    let queryUrl = window.location.href\r\n    let crInfo = queryUrl.split('?')[1].split('=')[1]\r\n    console.log(crInfo)\r\n    let crValidation = /^[0-9]{1,3}$/\r\n    if(crValidation.test(crInfo)){\r\n      res(true)\r\n    }\r\n    else{\r\n      res(false)\r\n    }\r\n  })\r\n}\r\ncountyInfo()\r\nexport async function addRoadbed(){\r\n    return await new Promise(function(res){\r\n        sketch.create(\"polyline\",{mode:\"click\", hasZ: false})\r\n        sketch.on('create', (event) => {\r\n            let lengthMiles;\r\n            if(event.state === \"complete\"){\r\n                //console.log(\"This is the previous total length: \",this.previousTotal)\r\n                lengthMiles = geometryEngine.geodesicLength(event.graphic.geometry, \"miles\")\r\n                //addLen(lengthMiles);\r\n                console.log(\"This is the current line length: \", parseFloat(lengthMiles.toFixed(3)));\r\n                res(lengthMiles);\r\n            }\r\n        });\r\n    }) \r\n}\r\n\r\nexport async function modifyRoadbed(){\r\n  let promise = new Promise(function(res){\r\n    view.on(\"immediate-click\", (event) => {\r\n      let opts ={ include: featLayer }\r\n      view.hitTest(event, opts).then(function(response){\r\n        for(let i=0; i < response.results.length; i++){\r\n          if(response.results[i].graphic.geometry !== null && response.results[i].graphic.sourceLayer !== null){\r\n            console.log(response.results[i])\r\n            let queryFeat = featLayer.queryFeatures({\r\n              objectIds: [response.results[0].graphic.attributes.objectid],\r\n              outFields: [\"*\"],\r\n              returnGeometry: true,\r\n              returnM: true\r\n            })\r\n            queryFeat.then(result => res(result))\r\n          }\r\n        }\r\n      })\r\n    })\r\n  })\r\n\r\n  let feature = await promise;\r\n  console.log(feature)\r\n  defineGraphic(feature)\r\n  return geometryEngine.geodesicLength(feature.features[0].geometry, \"miles\")\r\n}\r\n\r\nexport function zoomExtents(){\r\n  view.on('mouse-wheel',() => {\r\n    console.log(view.zoom)\r\n    view.zoom < 9 ?  featLayer.visible = false : featLayer.visible = true;\r\n  })\r\n}\r\n\r\nexport function hightlightFeat(){\r\n  view.on('pointer-move', (event) => {\r\n    const opts = {include: featLayer}\r\n    view.hitTest(event, opts).then(function(response){\r\n      if (response.results.length) {\r\n        let editFeature = response.results[0].graphic;\r\n        view.whenLayerView(editFeature.layer).then(function(layerView){\r\n          let highlight = layerView.highlight(editFeature);\r\n          view.on('pointer-move', (event) => {\r\n            view.hitTest(event, opts).then(function(response){\r\n              if(response.results.length === 0){\r\n                highlight.remove()\r\n              }\r\n            })\r\n          })\r\n        })\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction defineGraphic(graphics){\r\n  let newGraphic = new Graphic({\r\n    geometry: {\r\n      type: \"polyline\",\r\n      paths: graphics.features[0].geometry.paths[0],\r\n      hasM: true,\r\n      spatialReference: {\r\n        wkid: 3857\r\n      }\r\n    },\r\n\r\n    attributes: {\r\n      objectid: graphics.features[0].attributes.objectid\r\n    },\r\n              \r\n    symbol: {\r\n      type: \"simple-line\",\r\n      color: [0, 0, 255],\r\n      width: 2,\r\n      style: \"dash\"\r\n    }\r\n  })\r\n  let objectidList = [];\r\n  gLayer.graphics.add(newGraphic);\r\n  for(let id in gLayer.graphics.items)\r\n    if(gLayer.graphics.items[id].attributes !== null){\r\n      objectidList.push(gLayer.graphics.items[id].attributes.objectid)\r\n      console.log(objectidList)\r\n    }\r\n    featLayer.definitionExpression = `OBJECTID not in (${objectidList}) and cnty_nm = 'Travis'`\r\n}\r\n\r\nexport async function updateLength(){\r\n    let oldlengthMile;\r\n    let newlengthMiles;\r\n    let updatePromise = new Promise(function(res){\r\n      view.on('click', (evt)=>{\r\n        let opts = {include: gLayer}\r\n        view.hitTest(evt, opts).then(function(response){\r\n          console.log(response)\r\n          console.log(sketch)\r\n          if(response.results.length){\r\n            sketch.update(response.results[0].graphic,{tool: \"reshape\"})\r\n\r\n            sketch.on('update', (event) => {\r\n              //console.log(event)\r\n              if(event.state === \"start\"){\r\n                oldlengthMile = geometryEngine.geodesicLength(event.graphics[0].geometry, \"miles\")\r\n                console.log(oldlengthMile)\r\n              }\r\n              if(event.state === \"complete\"){\r\n                newlengthMiles = geometryEngine.geodesicLength(event.graphics[0].geometry, \"miles\")\r\n              }\r\n\r\n              if(typeof oldlengthMile === \"number\" && typeof newlengthMiles === \"number\"){\r\n                let deltaLength = oldlengthMile - newlengthMiles\r\n                console.log(deltaLength);\r\n                if(oldlengthMile < newlengthMiles){\r\n                  let addMiles = Math.abs(deltaLength)\r\n                  console.log(addMiles)\r\n                  res(addMiles)\r\n                  console.log('add')\r\n                }\r\n                else if (oldlengthMile > newlengthMiles){\r\n                  let subMiles = -Math.abs(deltaLength)\r\n                  res(subMiles)\r\n                  console.log('subtract')\r\n                }\r\n              }  \r\n            })\r\n          }\r\n          })\r\n        })\r\n     \r\n      });\r\n\r\n    let mileages = await updatePromise;\r\n    console.log(mileages)\r\n    return mileages\r\n}"]}]}