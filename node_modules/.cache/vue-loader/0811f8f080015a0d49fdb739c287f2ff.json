{"remainingRequest":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\src\\components\\Map\\Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\src\\components\\Map\\Map.vue","mtime":1642815941025},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641423715596},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641423715596},{"path":"C:\\Users\\DPROSACK\\Documents\\GitHub\\CRI-Update\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2FkZFJvYWRiZWQsIHVwZGF0ZUxlbmd0aCxtb2RpZnlSb2FkYmVkLCB6b29tRXh0ZW50cywgaGlnaHRsaWdodEZlYXQsIHN0b3BFZGl0aW5nfSBmcm9tICcuLi9NYXAvZWRpdEZ1bmMnDQppbXBvcnQge2NyaUNvbnN0YW50c30gZnJvbSAnLi4vLi4vY29tbW9uL2NyaV9jb25zdGFudHMnDQppbXBvcnQgc3RlcHBlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL3N0ZXBwZXJRdWVzdGlvbi52dWUnDQppbXBvcnQge3JvYWRJbmZvfSBmcm9tICcuLi8uLi9zdG9yZScNCi8vaW1wb3J0IHsgZ0xheWVyIH0gZnJvbSAnLi4vTWFwL21hcCc7DQovL2ltcG9ydCBHcmFwaGljIGZyb20gIkBhcmNnaXMvY29yZS9HcmFwaGljIjsNCmltcG9ydCAqIGFzIGdlb21ldHJ5RW5naW5lIGZyb20gIkBhcmNnaXMvY29yZS9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnTWFwJywNCiAgICBjb21wb25lbnRzOiB7c3RlcHBlcn0sDQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm57DQogICAgICAgICAgICBzbmFja2JhcjogZmFsc2UsDQogICAgICAgICAgICBzdGVwcGVyOiBmYWxzZSwNCiAgICAgICAgICAgIGFkZEJ1dHRvbjogImFkZCBSb2FkIiwNCiAgICAgICAgICAgIHByZXZpb3VzVG90YWw6IDAsDQogICAgICAgICAgICBjb3VudHk6ICJUcmF2aXMiLA0KICAgICAgICAgICAgdXNlcm5hbWU6IHJvYWRJbmZvLmdldE5hbWUsDQogICAgICAgICAgICBjb3VudHlUb3RhbDogY3JpQ29uc3RhbnRzLmNvdW50eU1pbGVzLA0KICAgICAgICAgICAgbGluZUxlbmd0aDoge30sDQogICAgICAgICAgICBuZXdNaWxlczogJycsDQogICAgICAgICAgICBtb2RpZnlMaW5lOiAwLA0KICAgICAgICAgICAgbW9kaWZ5TGVuZ3RoOiAwLA0KICAgICAgICAgICAgZWRpdFRlc3Q6IGZhbHNlDQogICAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIG1vdW50ZWQoKSB7DQogICAgICAgIGNvbnN0IGFwcCA9IGF3YWl0IGltcG9ydCgnLi4vTWFwL21hcCcpOw0KICAgICAgICBhcHAuaW5pdGlhbGl6ZSh0aGlzLiRlbCk7IA0KICAgICAgICB6b29tRXh0ZW50cygpOw0KICAgICAgICBoaWdodGxpZ2h0RmVhdCgpOw0KICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuY2FwdHVyZU1pbGVzKQ0KICAgICAgICANCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgYWRkUm9hZCgpIHsNCiAgICAgICAgICAgIGFkZFJvYWRiZWQoKS50aGVuKHJlc3VsdD0+ew0KICAgICAgICAgICAgdGhpcy5wcmV2aW91c1RvdGFsICs9IHBhcnNlRmxvYXQocmVzdWx0LnRvRml4ZWQoMykpDQogICAgICAgICAgICB0aGlzLmVkaXRUZXN0ID0gdHJ1ZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgY2FuY2VsRWRpdGluZygpew0KICAgICAgICAgICAgc3RvcEVkaXRpbmcoKTsNCiAgICAgICAgICAgIHRoaXMuZWRpdFRlc3QgPSBmYWxzZQ0KICAgICAgICB9DQogICAgICAgIA0KICAgIH0sDQogICAgDQogICAgd2F0Y2g6ew0KICAgICAgICBlZGl0VGVzdDp7DQogICAgICAgICAgICBoYW5kbGVyOiBhc3luYyBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIHJvYWRJbmZvLmdldGFkZFJvYWQgPSB0aGlzLmVkaXRUZXN0DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgcHJldmlvdXNUb3RhbCgpIHsNCiAgICAgICAgICAgIGFkZFJvYWRiZWQoKS50aGVuKHJlc3VsdD0+DQogICAgICAgICAgICB0aGlzLnByZXZpb3VzVG90YWwgKz0gcGFyc2VGbG9hdChyZXN1bHQudG9GaXhlZCgzKSkpDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RlcCIpLnN0eWxlLndpZHRoPSc0NTBweCcNCiAgICAgICAgICAgIA0KICAgICAgICB9LA0KDQogICAgICAgIG1vZGlmeUxpbmU6ew0KICAgICAgICAgICAgIGhhbmRsZXI6IGFzeW5jIGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgbGV0IG1vZGlmeSA9IGF3YWl0IG1vZGlmeVJvYWRiZWQodHJ1ZSkNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyb2FkSW5mby5yb2FkYmVkTmFtZSkNCiAgICAgICAgICAgICAgICB0aGlzLm1vZGlmeUxpbmUgKz0gcGFyc2VGbG9hdChnZW9tZXRyeUVuZ2luZS5nZW9kZXNpY0xlbmd0aChtb2RpZnkuZmVhdHVyZXNbMF0uZ2VvbWV0cnksICJtaWxlcyIpLnRvRml4ZWQoMykpDQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0ZXAiKS5zdHlsZS53aWR0aD0nNDUwcHgnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgaW1tZWRpYXRlOiB0cnVlLA0KICAgICAgICB9LA0KICAgICAgICANCiAgICAgICBtb2RpZnlMZW5ndGg6ew0KICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICB1cGRhdGVMZW5ndGgoKS50aGVuKHJlc3VsdCA9PnsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RpZnlMZW5ndGggKz0gcGFyc2VGbG9hdChyZXN1bHQudG9GaXhlZCgzKSkNCiAgICAgICAgICAgICAgICB9KSANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBpbW1lZGlhdGU6IHRydWUsIA0KICAgICAgICB9LA0KICAgIH0sDQoNCiAgICBjb21wdXRlZDp7DQogICAgICAgIGNvdW50eVRvdHM6IGZ1bmN0aW9uKCl7DQogICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMuY291bnR5VG90YWwpICsgTnVtYmVyKHRoaXMucHJldmlvdXNUb3RhbCkgKyBOdW1iZXIodGhpcy5tb2RpZnlMZW5ndGgpICsgTnVtYmVyKHRoaXMubW9kaWZ5TGluZSkNCiAgICAgICAgfSwNCg0KICAgICAgICBjdXJyZW50TWlsZXM6IGZ1bmN0aW9uKCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2aW91c1RvdGFsICsgdGhpcy5tb2RpZnlMZW5ndGggKyB0aGlzLm1vZGlmeUxpbmUNCiAgICAgICAgfSwNCg0KICAgICAgICBzZXRhZGRSb2FkOiBmdW5jdGlvbigpew0KICAgICAgICAgICAgcmV0dXJuIHJvYWRJbmZvLmdldGFkZFJvYWQgPSB0aGlzLmVkaXRUZXN0DQogICAgICAgIH0NCiAgICB9DQoNCn07DQo="},{"version":3,"sources":["Map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"Map.vue","sourceRoot":"src/components/Map","sourcesContent":["<template class=\"map\">\r\n    <div id=\"viewDiv\" class=\"main\">\r\n        <div id=\"info\" class=\"esri-widget\">\r\n            <div class=\"text-center\">\r\n                <v-snackbar v-model = snackbar timeout=-1>\r\n                    <v-btn dark color=\"pink\" text @click=\"snackbar = false; cancelEditing()\" width=600> Stop Editing </v-btn>\r\n                </v-snackbar>\r\n            </div>\r\n            \r\n            <v-btn elevation=\"2\" @click=\"addRoad(); snackbar = true\" id=\"addBtn\">{{addButton}}</v-btn>\r\n             <div>\r\n                <h2>County Mileage</h2>\r\n                <p v-cloak>County: {{county}} / User Name: {{editTest}}</p>\r\n                <p v-cloak>Previous Total Mileage: {{countyTotal}}</p>\r\n                <p v-cloak>Current Mileage: {{currentMiles}}</p>\r\n                <p v-if=\"isNaN(countyTots)&&isNaN(modifyLine)&&isNaN(modifyLength) ? 0: countyTots\">New Total Miles: {{countyTots}}</p>\r\n            </div>\r\n        </div>\r\n        <div id=\"step\"><stepper/></div>\r\n     </div>\r\n</template>\r\n\r\n<script>\r\nimport {addRoadbed, updateLength,modifyRoadbed, zoomExtents, hightlightFeat, stopEditing} from '../Map/editFunc'\r\nimport {criConstants} from '../../common/cri_constants'\r\nimport stepper from '../../components/stepperQuestion.vue'\r\nimport {roadInfo} from '../../store'\r\n//import { gLayer } from '../Map/map';\r\n//import Graphic from \"@arcgis/core/Graphic\";\r\nimport * as geometryEngine from \"@arcgis/core/geometry/geometryEngine\";\r\n\r\nexport default {\r\n    name: 'Map',\r\n    components: {stepper},\r\n    data(){\r\n        return{\r\n            snackbar: false,\r\n            stepper: false,\r\n            addButton: \"add Road\",\r\n            previousTotal: 0,\r\n            county: \"Travis\",\r\n            username: roadInfo.getName,\r\n            countyTotal: criConstants.countyMiles,\r\n            lineLength: {},\r\n            newMiles: '',\r\n            modifyLine: 0,\r\n            modifyLength: 0,\r\n            editTest: false\r\n        }\r\n    },\r\n    async mounted() {\r\n        const app = await import('../Map/map');\r\n        app.initialize(this.$el); \r\n        zoomExtents();\r\n        hightlightFeat();\r\n        //console.log(this.captureMiles)\r\n        \r\n    },\r\n    methods: {\r\n        addRoad() {\r\n            addRoadbed().then(result=>{\r\n            this.previousTotal += parseFloat(result.toFixed(3))\r\n            this.editTest = true\r\n            })\r\n        },\r\n        cancelEditing(){\r\n            stopEditing();\r\n            this.editTest = false\r\n        }\r\n        \r\n    },\r\n    \r\n    watch:{\r\n        editTest:{\r\n            handler: async function(){\r\n                roadInfo.getaddRoad = this.editTest\r\n            }\r\n        },\r\n       previousTotal() {\r\n            addRoadbed().then(result=>\r\n            this.previousTotal += parseFloat(result.toFixed(3)))\r\n            document.getElementById(\"step\").style.width='450px'\r\n            \r\n        },\r\n\r\n        modifyLine:{\r\n             handler: async function(){\r\n                let modify = await modifyRoadbed(true)\r\n                console.log(roadInfo.roadbedName)\r\n                this.modifyLine += parseFloat(geometryEngine.geodesicLength(modify.features[0].geometry, \"miles\").toFixed(3))\r\n                document.getElementById(\"step\").style.width='450px'\r\n            },\r\n            immediate: true,\r\n        },\r\n        \r\n       modifyLength:{\r\n            handler: function(){\r\n                updateLength().then(result =>{\r\n                    this.modifyLength += parseFloat(result.toFixed(3))\r\n                }) \r\n            },\r\n            immediate: true, \r\n        },\r\n    },\r\n\r\n    computed:{\r\n        countyTots: function(){\r\n            return Number(this.countyTotal) + Number(this.previousTotal) + Number(this.modifyLength) + Number(this.modifyLine)\r\n        },\r\n\r\n        currentMiles: function(){\r\n            return this.previousTotal + this.modifyLength + this.modifyLine\r\n        },\r\n\r\n        setaddRoad: function(){\r\n            return roadInfo.getaddRoad = this.editTest\r\n        }\r\n    }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#viewDiv {\r\n    position: absolute;\r\n    top: 0px;\r\n    right: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    z-index: 1;\r\n  }\r\n\r\n  .main{\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n  #info{\r\n  position: absolute;\r\n  padding: 10px;\r\n  top: 10%; \r\n  left: 80%;\r\n  width: 300px;\r\n}\r\n#step{\r\n    position: fixed;\r\n    width: 0;\r\n    left: 0;\r\n    top: 0;\r\n    transition: 0.5s;\r\n    z-index: 1\r\n}\r\n\r\n\r\n</style>"]}]}